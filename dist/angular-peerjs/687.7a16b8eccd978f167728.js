"use strict";(self.webpackChunkangular_peerjs=self.webpackChunkangular_peerjs||[]).push([[687],{8687:(b,a,i)=>{i.r(a),i.d(a,{RecieverModule:()=>A});var c=i(8583),u=i(522),s=i(5435),d=i(7568),e=i(7716),v=i(2238),m=i(1095);const p=["localVideo"],h=["remoteVideo"],f=[{path:"",component:(()=>{class o{constructor(t,n){this.dialog=t,this.callService=n,this.isCallStarted$=this.callService.isCallStarted$,this.callService.initPeer(),this.callService.enableCallAnswer()}ngOnInit(){this.callService.localStream$.pipe((0,s.h)(t=>!!t)).subscribe(t=>this.localVideo.nativeElement.srcObject=t),this.callService.remoteStream$.pipe((0,s.h)(t=>!!t)).subscribe(t=>this.remoteVideo.nativeElement.srcObject=t)}ngOnDestroy(){this.callService.destroyPeer()}endCall(){this.callService.closeMediaCall()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.uw),e.Y36(d.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["reciever"]],viewQuery:function(t,n){if(1&t&&(e.Gf(p,5),e.Gf(h,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.localVideo=r.first),e.iGM(r=e.CRH())&&(n.remoteVideo=r.first)}},features:[e._Bn([d.M])],decls:12,vars:4,consts:[[1,"container"],["mat-raised-button","","color","warn",1,"m-2",3,"disabled","click"],[1,"row"],[1,"col","text-center"],["id","video-wrapper"],["id","remote-video","autoplay","","playsinline",""],["remoteVideo",""],["id","local-video","autoplay","","playsinline","",3,"muted"],["localVideo",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"button",1),e.NdJ("click",function(){return n.endCall()}),e.ALo(3,"async"),e._uU(4,"End Call"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"video",5,6),e._UZ(10,"video",7,8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("disabled",!e.lcZ(3,2,n.isCallStarted$)),e.xp6(8),e.Q6J("muted",!0))},directives:[m.lW],pipes:[c.Ov],styles:["#video-wrapper[_ngcontent-%COMP%]{text-align:center;background-color:#343434;border-radius:4px}#remote-video[_ngcontent-%COMP%]{max-width:100%;max-height:90vh;border-radius:4px}#local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;right:10px;bottom:10px;width:100%;height:10vw;max-width:10rem;max-height:10rem;border:4px solid white}"]}),o})()}];let g=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,u.Bz.forChild(f)]]}),o})();var C=i(665),R=i(8295),y=i(9983),Z=i(4785),M=i(6458),S=i(894),x=i(1841);let A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[],imports:[[g,C.u5,m.ot,v.Is,R.lN,y.c,Z.Iq,M.ZX,S.B,c.ez,x.JF]]}),o})()}}]);